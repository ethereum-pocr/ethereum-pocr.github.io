{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue?660a","webpack:///./src/components/AppMenu.vue?70a3","webpack:///./src/pages/InstallMetaMask.page.vue?df3a","webpack:///src/pages/InstallMetaMask.page.vue","webpack:///./src/pages/InstallMetaMask.page.vue?4233","webpack:///./src/pages/InstallMetaMask.page.vue","webpack:///./src/pages/Auth.page.vue?9294","webpack:///src/pages/Auth.page.vue","webpack:///./src/pages/Auth.page.vue?c349","webpack:///./src/pages/Auth.page.vue","webpack:///./src/pages/Dashboard.page.vue?7303","webpack:///src/pages/Dashboard.page.vue","webpack:///./src/pages/Dashboard.page.vue?384f","webpack:///./src/pages/Dashboard.page.vue","webpack:///./src/pages/Auditors.page.vue?b861","webpack:///src/pages/Auditors.page.vue","webpack:///./src/pages/Auditors.page.vue?2562","webpack:///./src/pages/Auditors.page.vue","webpack:///./src/pages/Audit.page.vue?e6f3","webpack:///src/pages/Audit.page.vue","webpack:///./src/pages/Audit.page.vue?8ac8","webpack:///./src/pages/Audit.page.vue","webpack:///./src/pages/History.page.vue?a6ac","webpack:///src/pages/History.page.vue","webpack:///./src/pages/History.page.vue?d2e4","webpack:///./src/pages/History.page.vue","webpack:///./src/pages/Pledge.page.vue?a45b","webpack:///./src/lib/numbers.js","webpack:///src/pages/Pledge.page.vue","webpack:///./src/pages/Pledge.page.vue?6915","webpack:///./src/pages/Pledge.page.vue","webpack:///./src/pages/Status.page.vue?4261","webpack:///src/pages/Status.page.vue","webpack:///./src/pages/Status.page.vue?bae4","webpack:///./src/pages/Status.page.vue","webpack:///./src/router.js","webpack:///src/components/AppMenu.vue","webpack:///./src/components/AppMenu.vue?55d1","webpack:///./src/components/AppMenu.vue","webpack:///src/App.vue","webpack:///./src/App.vue?60d0","webpack:///./src/App.vue","webpack:///./src/plugins/vuetify.js","webpack:///./src/plugins/pathify.js","webpack:///./src/lib/api.js","webpack:///./src/store/nodes.js","webpack:///./src/store/auth.js","webpack:///./src/store/history.js","webpack:///./src/store/pledge.js","webpack:///./src/store/status.js","webpack:///./src/store/nodeGovernance.js","webpack:///./src/store/index.js","webpack:///./src/lib/auth.js","webpack:///./src/main.js"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_vm","this","_h","$createElement","_c","_self","attrs","_v","staticClass","mmIsOpen","snackbarColor","model","callback","$$v","displaySnackbar","expression","_s","snackbarMessage","staticRenderFns","drawer","$route","_l","ref","index","icon","label","route","disabled","subheader","_e","on","$event","goTo","component","openMetaMaskConnectionDialog","methods","lastBlock","block","number","averageDelaySec","toFixed","totalCrypto","nbOfNodes","totalFootprint","sealer","address","vanity","custom","footprint","sealersFootprint","scopedSlots","_u","fn","item","sealersLabels","sealersReward","sealersAddress","Number","parseFloat","rewardsByBlock","averageReward","nbBlocksToKeep","sealerMap","blocks","mounted","computed","sealers","map","processBlockData","info","balance","reward","set","sealerInfo","blockNumber","updateSealersArrays","nbAuditors","auditors","tableHeadersAuditors","isApproved","nbVotes","minVotes","nodeVote","computeLabel","text","sortable","switchState","currentVote","console","auditorAddress","accept","tableHeaders","openUpdateFootprintDialog","footprintDialog","selectedSealer","newFootprintValue","submitNewFootprint","fetchAllValues","sealerAddress","currentTab","staticStyle","footprintHistory","footprintTableHeaders","pledgeHistory","pledgeTableHeaders","toEther","minPledgeAmount","pledgedAmount","redeemBool","redeemPledge","amountToAdd","pledgeMore","GWEI_FACTOR","Math","pow","ETH_FACTOR","toWebBigInt","bi","BigNumber","div","toWei","from","multipliedBy","intervalId","setInterval","beforeRouteLeave","to","next","clearInterval","registered","approved","selfRegister","approbationVotes","fetchIsRegistered","fetchIsApproved","fetchApprobationVotes","Vue","use","VueRouter","approvedAuditor","store","state","status","isNode","auth","isAuditor","walletIsntConnected","wallet","any","functions","opts","f","routes","path","Dashboard","meta","displayInSidenav","InstallMetaMask","Auth","hidden","Auditors","restricted","forceRedirectTo","Status","Pledge","Audit","History","redirect","router","base","sidenav","filter","list","el","nav","categories","routeName","$router","components","AppMenu","sync","Vuetify","theme","themes","light","primary","secondary","accent","error","warning","success","pathify","options","mapping","getWalletBalance","walletAddress","Web3","$store","eth","getBalance","governanceAddress","getContractInstanceByName","contractName","contract","allContracts","instance","at","log","getContractInstance","intf","provider","Web3FunctionProvider","Promise","resolve","readOnlyCall","methodName","reject","Error","args","maxGas","writeCall","writeCallWithOptions","convertMMErrorMessage","message","split","JSON","stringify","obj","parse","join","then","v","send","catch","e","err","handleMMResponse","promise","errorCallback","response","dispatch","MAX_BLOCKS_TO_KEEP","chainUpdateSubscription","average","arr","reduce","a","b","getters","rewards","lastReward","unshift","previousBlock","receivedAt","lastBlockNumber","mutations","make","processBlock","web3","_intf","carbonFootprint","undefined","difficulty","startsWith","parseInt","poaBlockHashToSealerInfo","utils","toBN","deployedAt","totalCryptoB4","delta","fromWei","sub","bal","nbNodes","Date","now","warn","actions","fetchNumberOfNodes","fetchTotalFootprint","subscribeToChainUpdates","rootState","unsubscribe","subscription","subscribe","unsubscribeToChainUpdates","insertNewBlock","fetchChainInformations","getBlockNumber","max","getBlock","fetchNodeInformations","seenSealers","maxSealerSeenCounter","sortedSealers","values","sort","updateFootprint","namespaced","fetchRole","Node","detectProvider","detectEthereumProvider","location","reload","attemptToConnectWallet","ethereum","request","method","addresses","accounts","root","appendFootprint","appendPledge","prov","fetchFootprintHistory","commit","events","CarbonFootprintUpdate","fromBlock","node","returnValues","fetchPledgeHistory","account","AmountPledged","pledge","amount","total","fetchBalance","fetchCanTransferPledge","fetchMinPledgeAmount","fetchPledgedAmount","addToPledge","votes","fetchAllAuditorsValues","fetchNbAuditors","fetchAuditorsInfos","nodeAdr","floor","voteAuditor","context","Vuex","tryingToConnect","Store","nodes","history","nodeGovernance","plugins","plugin","errorFlash","setupAuthNavigationGuard","beforeEach","all","config","productionTip","vuetify","render","h","App","$mount"],"mappings":"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","file":"js/index.0df36a57.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"index\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-app',{attrs:{\"id\":\"inspire\"}},[_c('v-container',[_c('app-menu'),_c('v-app-bar',{attrs:{\"app\":\"\",\"clipped-left\":\"\",\"flat\":\"\",\"color\":\"teal lighten-2\"}},[_c('v-toolbar-title',[_vm._v(\" Audit UI\")])],1),_c('v-main',[_c('v-container',{staticClass:\"py-8\"},[_c('router-view')],1)],1)],1),_c('v-overlay',{attrs:{\"value\":_vm.mmIsOpen}},[_c('v-progress-circular',{attrs:{\"indeterminate\":\"\"}})],1),_c('v-snackbar',{attrs:{\"multi-line\":\"\",\"color\":_vm.snackbarColor,\"right\":\"\"},model:{value:(_vm.displaySnackbar),callback:function ($$v) {_vm.displaySnackbar=$$v},expression:\"displaySnackbar\"}},[_vm._v(\" \"+_vm._s(_vm.snackbarMessage)+\" \")])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-navigation-drawer',{attrs:{\"app\":\"\",\"clipped\":\"\",\"flat\":\"\"},model:{value:(_vm.drawer),callback:function ($$v) {_vm.drawer=$$v},expression:\"drawer\"}},[_c('v-divider'),_c('v-list',[_c('v-list-item-group',{attrs:{\"value\":_vm.$route.name,\"mandatory\":\"\",\"color\":\"primary\"}},[_vm._l((_vm.sidenav),function(ref,index){\nvar icon = ref.icon;\nvar label = ref.label;\nvar route = ref.route;\nvar disabled = ref.disabled;\nvar subheader = ref.subheader;\nreturn [(subheader && label !== '' && index !== 0)?_c('v-divider',{key:(label + \"-divider\")}):_vm._e(),(subheader && label !== '')?_c('v-subheader',{key:label},[_vm._v(_vm._s(label))]):_c('v-list-item',{key:route,attrs:{\"value\":route,\"disabled\":disabled(),\"link\":\"\"},on:{\"click\":function($event){return _vm.goTo(route)}}},[_c('v-list-item-icon',[_c('v-icon',[_vm._v(_vm._s(icon))])],1),_c('v-list-item-content',[_c('v-list-item-title',[_vm._v(_vm._s(label))])],1)],1)]})],2)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_vm._v(\"Install MetaMask and then reload this application.\")])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>Install MetaMask and then reload this application.</div>\n</template>\n<script>\nexport default {};\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InstallMetaMask.page.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InstallMetaMask.page.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./InstallMetaMask.page.vue?vue&type=template&id=1ecf0199&\"\nimport script from \"./InstallMetaMask.page.vue?vue&type=script&lang=js&\"\nexport * from \"./InstallMetaMask.page.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-btn',{attrs:{\"color\":\"teal\",\"dark\":\"\"},on:{\"click\":_vm.openMetaMaskConnectionDialog}},[_vm._v(\"Connect Wallet\")])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <v-btn color=\"teal\" dark @click=\"openMetaMaskConnectionDialog\"\n      >Connect Wallet</v-btn\n    >\n  </div>\n</template>\n\n<script>\nimport { call } from \"vuex-pathify\";\n\nexport default {\n  methods: {\n    ...call(\"auth\", [\"openMetaMaskConnectionDialog\"]),\n  },\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Auth.page.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Auth.page.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Auth.page.vue?vue&type=template&id=2156b3e4&\"\nimport script from \"./Auth.page.vue?vue&type=script&lang=js&\"\nexport * from \"./Auth.page.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-layout',{attrs:{\"row\":\"\",\"wrap\":\"\"}},[_c('v-row',[_c('v-col',{attrs:{\"cols\":\"4\"}},[_c('v-card',{staticClass:\"ma-6\",attrs:{\"height\":\"200\",\"width\":\"200\"}},[_c('v-card-subtitle',[_vm._v(\"Block\")]),_c('v-card-title',{staticClass:\"align-center\"},[_c('span',{staticClass:\"text-h3 ma-auto\"},[_vm._v(_vm._s(_vm.lastBlock && _vm.lastBlock.block.number))])]),_c('v-card-subtitle',[_vm._v(_vm._s(_vm.averageDelaySec.toFixed(2))+\" sec\")]),_c('v-card-subtitle',[_vm._v(\"Total CTC: \"+_vm._s(_vm.totalCrypto.toFixed(4)))])],1)],1),_c('v-col',{attrs:{\"cols\":\"4\"}},[_c('v-card',{staticClass:\"ma-6\",attrs:{\"height\":\"200\",\"width\":\"200\"}},[_c('v-card-subtitle',[_vm._v(\"Nodes\")]),_c('v-card-title',{staticClass:\"align-center\"},[_c('span',{staticClass:\"text-h2 ma-auto\"},[_vm._v(_vm._s(_vm.nbOfNodes))])])],1)],1),_c('v-col',{attrs:{\"cols\":\"4\"}},[_c('v-card',{staticClass:\"ma-6\",attrs:{\"height\":\"200\",\"width\":\"200\"}},[_c('v-card-subtitle',[_vm._v(\"Total footprint\")]),_c('v-card-title',{staticClass:\"align-center\"},[_c('span',{staticClass:\"text-h2 ma-auto\"},[_vm._v(_vm._s(_vm.totalFootprint))])]),_c('v-card-subtitle',[_vm._v(\"Average: \"+_vm._s((_vm.totalFootprint / _vm.nbOfNodes).toFixed(2)))])],1)],1),(_vm.lastBlock)?_c('v-col',{staticClass:\"pa-8\",attrs:{\"cols\":\"12\"}},[_c('v-card-title',[_vm._v(\"Footprint for each of the nodes\")]),_c('v-card-subtitle',[_vm._v(\" Last block sealer: \"+_vm._s(_vm.lastBlock.sealer.address)+\" / \"+_vm._s(_vm.lastBlock.sealer.vanity.custom)+\". Footprint: \"+_vm._s(_vm.lastBlock.sealer.footprint)+\" \")]),_c('v-sparkline',{attrs:{\"auto-draw\":\"\",\"type\":\"bar\",\"auto-draw-duration\":500,\"auto-line-width\":\"\",\"value\":_vm.sealersFootprint,\"label-size\":\"3\",\"gradient\":['#f72047', '#ffd200', '#1feaea'],\"padding\":\"8\"},scopedSlots:_vm._u([{key:\"label\",fn:function(item){return [_vm._v(\" \"+_vm._s(_vm.sealersLabels[item.index])+\" - \"+_vm._s(item.value)+\" \")]}}],null,false,328237270)})],1):_vm._e(),(_vm.lastBlock)?_c('v-col',{staticClass:\"pa-8\",attrs:{\"cols\":\"12\"}},[_c('v-card-title',[_vm._v(\"Block reward per node\")]),_c('v-card-subtitle',[_vm._v(\" Last block sealer: \"+_vm._s(_vm.lastBlock.sealer.address)+\" / \"+_vm._s(_vm.lastBlock.sealer.vanity.custom)+\". Footprint: \"+_vm._s(_vm.lastBlock.sealer.footprint)+\" \")]),_c('v-sparkline',{attrs:{\"auto-draw\":\"\",\"type\":\"bar\",\"auto-draw-duration\":500,\"auto-line-width\":\"\",\"value\":_vm.sealersReward,\"label-size\":\"3\",\"gradient\":['#42b3f4'],\"padding\":28},scopedSlots:_vm._u([{key:\"label\",fn:function(item){return [_vm._v(\" \"+_vm._s(_vm.lastBlock.sealer.address == _vm.sealersAddress[item.index] ? \"[\" : \"\")+\" \"+_vm._s(_vm.sealersAddress[item.index])+\" \"+_vm._s(_vm.lastBlock.sealer.address == _vm.sealersAddress[item.index] ? \"]\" : \"\")+\" - \"+_vm._s(Number.parseFloat(item.value).toFixed(2))+\" \")]}}],null,false,2512685418)})],1):_vm._e(),_c('v-col',{staticClass:\"pa-8\",attrs:{\"cols\":\"12\"}},[_c('v-card-title',[_vm._v(\"CTC Creation by block \")]),_c('v-card-subtitle',[_vm._v(\"Last reward: \"+_vm._s(_vm.rewardsByBlock[_vm.rewardsByBlock.length - 1].toFixed(4))+\" CTC; Average: \"+_vm._s(_vm.averageReward.toFixed(4))+\" CTC; Last \"+_vm._s(_vm.rewardsByBlock.length - 1)+\" blocks\")]),_c('v-sparkline',{attrs:{\"auto-draw\":\"\",\"type\":\"trend\",\"auto-draw-duration\":0,\"line-width\":0.3,\"value\":_vm.rewardsByBlock,\"label-size\":\"3\",\"gradient\":['#42b3f4']}})],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-layout row wrap>\n    <v-row>\n      <v-col cols=\"4\">\n        <v-card height=\"200\" width=\"200\" class=\"ma-6\">\n          <v-card-subtitle>Block</v-card-subtitle>\n          <v-card-title class=\"align-center\">\n            <span class=\"text-h3 ma-auto\">{{\n              lastBlock && lastBlock.block.number\n            }}</span>\n          </v-card-title>\n          <v-card-subtitle\n            >{{ averageDelaySec.toFixed(2) }} sec</v-card-subtitle\n          >\n          <v-card-subtitle\n            >Total CTC: {{ totalCrypto.toFixed(4) }}</v-card-subtitle\n          >\n        </v-card>\n      </v-col>\n      <v-col cols=\"4\">\n        <v-card height=\"200\" width=\"200\" class=\"ma-6\">\n          <v-card-subtitle>Nodes</v-card-subtitle>\n          <v-card-title class=\"align-center\">\n            <span class=\"text-h2 ma-auto\">{{ nbOfNodes }}</span>\n          </v-card-title>\n        </v-card>\n      </v-col>\n      <v-col cols=\"4\">\n        <v-card height=\"200\" width=\"200\" class=\"ma-6\">\n          <v-card-subtitle>Total footprint</v-card-subtitle>\n          <v-card-title class=\"align-center\">\n            <span class=\"text-h2 ma-auto\">{{ totalFootprint }}</span>\n          </v-card-title>\n          <v-card-subtitle\n            >Average:\n            {{ (totalFootprint / nbOfNodes).toFixed(2) }}</v-card-subtitle\n          >\n        </v-card>\n      </v-col>\n      <v-col cols=\"12\" class=\"pa-8\" v-if=\"lastBlock\">\n        <v-card-title>Footprint for each of the nodes</v-card-title>\n        <v-card-subtitle>\n          Last block sealer: {{ lastBlock.sealer.address }} /\n          {{ lastBlock.sealer.vanity.custom }}. Footprint:\n          {{ lastBlock.sealer.footprint }}\n        </v-card-subtitle>\n        <v-sparkline\n          auto-draw\n          type=\"bar\"\n          :auto-draw-duration=\"500\"\n          auto-line-width\n          :value=\"sealersFootprint\"\n          label-size=\"3\"\n          :gradient=\"['#f72047', '#ffd200', '#1feaea']\"\n          padding=\"8\"\n        >\n          <template v-slot:label=\"item\">\n            {{ sealersLabels[item.index] }} -\n            {{ item.value }}\n          </template>\n        </v-sparkline>\n      </v-col>\n      <v-col cols=\"12\" class=\"pa-8\" v-if=\"lastBlock\">\n        <v-card-title>Block reward per node</v-card-title>\n        <v-card-subtitle>\n          Last block sealer: {{ lastBlock.sealer.address }} /\n          {{ lastBlock.sealer.vanity.custom }}. Footprint:\n          {{ lastBlock.sealer.footprint }}\n        </v-card-subtitle>\n        <v-sparkline\n          auto-draw\n          type=\"bar\"\n          :auto-draw-duration=\"500\"\n          auto-line-width\n          :value=\"sealersReward\"\n          label-size=\"3\"\n          :gradient=\"['#42b3f4']\"\n          :padding=\"28\"\n        >\n          <template v-slot:label=\"item\">\n            {{\n              lastBlock.sealer.address == sealersAddress[item.index] ? \"[\" : \"\"\n            }}\n            {{ sealersAddress[item.index] }}\n            {{\n              lastBlock.sealer.address == sealersAddress[item.index] ? \"]\" : \"\"\n            }}\n            -\n            {{ Number.parseFloat(item.value).toFixed(2) }}\n          </template>\n        </v-sparkline>\n      </v-col>\n\n      <v-col cols=\"12\" class=\"pa-8\">\n        <v-card-title>CTC Creation by block </v-card-title>\n        <v-card-subtitle\n          >Last reward:\n          {{ rewardsByBlock[rewardsByBlock.length - 1].toFixed(4) }} CTC;\n          Average: {{ averageReward.toFixed(4) }} CTC; Last\n          {{ rewardsByBlock.length - 1 }} blocks</v-card-subtitle\n        >\n        <v-sparkline\n          auto-draw\n          type=\"trend\"\n          :auto-draw-duration=\"0\"\n          :line-width=\"0.3\"\n          :value=\"rewardsByBlock\"\n          label-size=\"3\"\n          :gradient=\"['#42b3f4']\"\n        ></v-sparkline>\n      </v-col>\n    </v-row>\n  </v-layout>\n</template>\n\n<script>\nimport { get, call } from \"vuex-pathify\";\n\nexport default {\n  data: () => {\n    return {\n      nbBlocksToKeep: 100,\n      sealerMap: new Map(),\n      blocks: [],\n      //   blockNumber: 0,\n      //   sealersLabels: [],\n      //   sealersAddress: [],\n      //   sealersFootprint: [],\n      sealersReward: [],\n    };\n  },\n  async mounted() {\n    this.fetchAllValues();\n    this.fetchChainInformations().then(this.subscribeToChainUpdates);\n  },\n  computed: {\n    ...get(\"nodes\", [\n      \"sealers\",\n      \"nbOfNodes\",\n      \"lastBlock\",\n      \"totalFootprint\",\n      \"totalCrypto\",\n      \"rewardsByBlock\",\n      \"averageReward\",\n      \"averageDelaySec\",\n      \"lastBlock\",\n    ]),\n    sealersFootprint() {\n      return this.sealers.map((s) => s.footprint);\n    },\n    sealersAddress() {\n      return this.sealers.map((s) => s.address);\n    },\n    sealersLabels() {\n      return this.sealers.map((s) => s.vanity.custom);\n    },\n  },\n  methods: {\n    ...call(\"nodes\", [\n      \"fetchAllValues\",\n      \"fetchChainInformations\",\n      \"subscribeToChainUpdates\",\n    ]),\n    // ...mapActions([\"goToPage\"]),\n    processBlockData(data) {\n      // console.log(data);\n\n      let blocks = this.blocks.filter(\n        (d) =>\n          d.block.number > data.block.number - this.nbBlocksToKeep &&\n          d.block.number != data.block.number\n      );\n      blocks = blocks.sort((d1, d2) => d1.block.number - d2.block.number);\n      blocks.push(data);\n      this.blocks = blocks;\n\n      const sealerInfo = {\n        address: data.sealer.address,\n        info: data.sealer.vanity.custom,\n        footprint: data.sealer.footprint,\n        balance: data.sealer.balance,\n        reward: data.sealer.lastReward,\n      };\n      this.sealerMap.set(sealerInfo.address, sealerInfo);\n      this.totalFootprint = data.totalFootprint;\n      this.totalCrypto = data.totalCrypto;\n      this.nbOfNodes = data.nbOfNodes;\n      this.blockNumber = data.block.number;\n      this.updateSealersArrays();\n    },\n    updateSealersArrays() {\n      let sealers = [];\n      for (const k of this.sealerMap.keys()) {\n        const info = this.sealerMap.get(k);\n        sealers.push(info);\n      }\n      sealers = sealers.sort((i1, i2) => i1.footprint - i2.footprint);\n\n      this.sealersLabels = sealers.map((info) => info.info);\n      this.sealersAddress = sealers.map((info) => info.address);\n      this.sealersFootprint = sealers.map((info) => info.footprint);\n      this.sealersReward = sealers.map((info) => info.reward);\n    },\n  },\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Dashboard.page.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Dashboard.page.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Dashboard.page.vue?vue&type=template&id=3586e4f3&\"\nimport script from \"./Dashboard.page.vue?vue&type=script&lang=js&\"\nexport * from \"./Dashboard.page.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-row',[_c('v-col',[_c('v-card',[_c('v-card-title',[_vm._v(\"Number of Auditors\")]),_c('v-card-text',[_vm._v(_vm._s(_vm.nbAuditors))])],1)],1),_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-card',[_c('v-card-title',[_vm._v(\"Auditors\")]),_c('v-card-text',[_c('v-data-table',{attrs:{\"items\":_vm.auditors,\"headers\":_vm.tableHeadersAuditors,\"items-per-page\":-1,\"hide-default-footer\":\"\"},scopedSlots:_vm._u([{key:\"item.status\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('div',[_vm._v(_vm._s(item.isApproved ? \"Oui\" : \"Non\"))])]}},{key:\"item.votes\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('div',[_vm._v(_vm._s(item.nbVotes)+\" / \"+_vm._s(item.minVotes)+\" avant \"+_vm._s(item.isApproved ? \"Révocation\" : \"Approbation\"))])]}},{key:\"item.actions\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('v-btn',{attrs:{\"color\":\"primary\",\"small\":\"\"},on:{\"click\":function($event){return _vm.nodeVote(item)}}},[_vm._v(\" \"+_vm._s(_vm.computeLabel(item))+\" \")])]}}])})],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-row>\n\n    <v-col>\n      <v-card>\n        <v-card-title>Number of Auditors</v-card-title>\n        <v-card-text>{{ nbAuditors }}</v-card-text>\n      </v-card>\n    </v-col>\n\n    <v-col cols=\"12\">\n      <v-card>\n        <v-card-title>Auditors</v-card-title>\n        <v-card-text>\n          <v-data-table\n              :items=\"auditors\"\n              :headers=\"tableHeadersAuditors\"\n              :items-per-page=\"-1\"\n              hide-default-footer\n          >\n            <template v-slot:item.status=\"{ item }\">\n              <div>{{ item.isApproved ? \"Oui\" : \"Non\" }}</div>\n            </template>\n            <template v-slot:item.votes=\"{ item }\">\n              <div>{{ item.nbVotes }} / {{ item.minVotes }} avant {{ item.isApproved ? \"Révocation\" : \"Approbation\" }}</div>\n            </template>\n            <template v-slot:item.actions=\"{ item }\">\n              <v-btn\n                  color=\"primary\"\n                  small\n                  @click=\"nodeVote(item)\"\n              >\n                {{ computeLabel(item) }}\n              </v-btn>\n            </template>\n          </v-data-table>\n        </v-card-text>\n      </v-card>\n    </v-col>\n\n  </v-row>\n</template>\n\n<script>\nimport { get, call } from \"vuex-pathify\";\n\nexport default {\n  data: () => ({\n    tableHeadersAuditors: [\n      { text: \"Auditor\", value: \"address\" },\n      { text: \"Approuvé\", value: \"status\" },\n      { text: \"Votes courants\", value: \"votes\" },\n      { text: \"Actions\", value: \"actions\", sortable: false },\n    ],\n    switchState: false,\n\n  }),\n  computed: {\n    ...get(\"nodeGovernance\", [\"nbAuditors\", \"auditors\"]),\n  },\n\n  async mounted() {\n    await this.fetchAllAuditorsValues();\n  },\n  methods: {\n    ...call(\"nodeGovernance\", [\"fetchAllAuditorsValues\", \"voteAuditor\"]),\n\n    computeLabel(item) {\n      // auditor is approved, vote for unapproved\n      if (item.isApproved) {\n        if (item.currentVote) {\n          return \"Voter pour révoquer\";\n        }\n        return \"Retirer mon vote de révocation\";\n      }\n      // auditor is not approved, vote for approved\n      if (item.currentVote) {\n        return \"Retirer mon vote de d'approbation\";\n      }\n      return \"Voter pour approuver\";\n    },\n\n    async nodeVote(item) {\n      console.log(`address : ${item.address} / vote value : ${!item.currentVote}`);\n      try {\n        await this.voteAuditor({\n          auditorAddress: item.address,\n          accept: !item.currentVote\n        });\n        await this.fetchAllAuditorsValues();\n      } catch (error) {\n        console.log(error);\n        await this.fetchAllAuditorsValues();\n        throw error;\n      }\n    },\n  },\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Auditors.page.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Auditors.page.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Auditors.page.vue?vue&type=template&id=2fb3d706&\"\nimport script from \"./Auditors.page.vue?vue&type=script&lang=js&\"\nexport * from \"./Auditors.page.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-row',[_c('v-col',[_c('v-card',[_c('v-card-title',[_vm._v(\"Number of Nodes\")]),_c('v-card-text',[_vm._v(_vm._s(_vm.nbOfNodes))])],1)],1),_c('v-col',[_c('v-card',[_c('v-card-title',[_vm._v(\"Total Footprint\")]),_c('v-card-text',[_vm._v(_vm._s(_vm.totalFootprint)+\" \")])],1)],1),_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-card',[_c('v-card-title',[_vm._v(\"Nodes\")]),_c('v-card-text',[_c('v-data-table',{attrs:{\"items\":_vm.sealers,\"headers\":_vm.tableHeaders,\"items-per-page\":-1,\"hide-default-footer\":\"\"},scopedSlots:_vm._u([{key:\"item.vanity\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('div',[_vm._v(\"Address: \"+_vm._s(item.address))]),_c('div',[_vm._v(\"Name: \"+_vm._s(item.vanity.custom))])]}},{key:\"item.actions\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('v-btn',{attrs:{\"color\":\"primary\",\"small\":\"\"},on:{\"click\":function($event){return _vm.openUpdateFootprintDialog(item)}}},[_vm._v(\" Update footprint \")])]}}])}),_c('v-dialog',{attrs:{\"width\":\"500\"},model:{value:(_vm.footprintDialog),callback:function ($$v) {_vm.footprintDialog=$$v},expression:\"footprintDialog\"}},[(_vm.selectedSealer)?_c('v-card',[_c('v-card-title',[_vm._v(\" Update Footprint for \"+_vm._s(_vm.selectedSealer.address)+\" \")]),_c('v-card-text',[_c('v-row',[_c('v-col',{staticClass:\"pb-0\",attrs:{\"cols\":\"6\"}},[_c('v-text-field',{attrs:{\"type\":\"number\",\"outlined\":\"\",\"dense\":\"\"},model:{value:(_vm.newFootprintValue),callback:function ($$v) {_vm.newFootprintValue=$$v},expression:\"newFootprintValue\"}})],1),_c('v-col',{staticClass:\"pb-0\"},[_c('v-btn',{on:{\"click\":function($event){_vm.footprintDialog = false}}},[_vm._v(\"Cancel\")])],1),_c('v-col',{staticClass:\"pb-0\"},[_c('v-btn',{attrs:{\"color\":\"primary\"},on:{\"click\":_vm.submitNewFootprint}},[_vm._v(\" Submit \")])],1)],1)],1)],1):_vm._e()],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-row>\n    <v-col>\n      <v-card>\n        <v-card-title>Number of Nodes</v-card-title>\n        <v-card-text>{{ nbOfNodes }}</v-card-text>\n      </v-card>\n    </v-col>\n    <v-col>\n      <v-card>\n        <v-card-title>Total Footprint</v-card-title>\n        <v-card-text>{{ totalFootprint }} </v-card-text>\n      </v-card>\n    </v-col>\n    <v-col cols=\"12\">\n      <v-card>\n        <v-card-title>Nodes</v-card-title>\n        <v-card-text>\n          <v-data-table\n            :items=\"sealers\"\n            :headers=\"tableHeaders\"\n            :items-per-page=\"-1\"\n            hide-default-footer\n          >\n            <template v-slot:item.vanity=\"{ item }\">\n              <div>Address: {{ item.address }}</div>\n              <div>Name: {{ item.vanity.custom }}</div>\n            </template>\n            <!-- \n            <template v-slot:item.footprint=\"{ item }\">\n\t\t\t\t{{ item.footprint }}\n              <v-edit-dialog\n                @update:return-value=\"setFootprint\"\n                large\n                persistent\n              >\n                {{ item.footprint }}\n                <template v-slot:input>\n                  <v-text-field\n                    :value=\"item.footprint\"\n                    label=\"Edit\"\n                    single-line\n                    type=\"number\"\n                  ></v-text-field>\n                </template>\n              </v-edit-dialog>\n            </template> -->\n            <template v-slot:item.actions=\"{ item }\">\n              <v-btn\n                color=\"primary\"\n                small\n                @click=\"openUpdateFootprintDialog(item)\"\n              >\n                Update footprint\n              </v-btn>\n            </template>\n          </v-data-table>\n\n          <v-dialog v-model=\"footprintDialog\" width=\"500\">\n            <v-card v-if=\"selectedSealer\">\n              <v-card-title>\n                Update Footprint for {{ selectedSealer.address }}\n              </v-card-title>\n              <v-card-text>\n                <v-row>\n                  <v-col cols=\"6\" class=\"pb-0\">\n                    <v-text-field\n                      type=\"number\"\n                      outlined\n                      dense\n                      v-model=\"newFootprintValue\"\n                    ></v-text-field>\n                  </v-col>\n                  <v-col class=\"pb-0\">\n                    <v-btn @click=\"footprintDialog = false\">Cancel</v-btn>\n                  </v-col>\n                  <v-col class=\"pb-0\">\n                    <v-btn color=\"primary\" @click=\"submitNewFootprint\">\n                      Submit\n                    </v-btn>\n                  </v-col>\n                </v-row>\n              </v-card-text>\n            </v-card>\n          </v-dialog>\n        </v-card-text>\n      </v-card>\n    </v-col>\n  </v-row>\n</template>\n\n<script>\nimport { get, call } from \"vuex-pathify\";\n\nexport default {\n  data: () => ({\n    tableHeaders: [\n      { text: \"Node\", value: \"vanity\" },\n      { text: \"Footprint\", value: \"footprint\" },\n      { text: \"Actions\", value: \"actions\", sortable: false },\n    ],\n    tableHeadersAuditors: [\n      { text: \"Auditor\", value: \"address\" },\n      { text: \"Votes courants\", value: \"votes\" },\n      { text: \"Mon Vote\", value: \"actions\", sortable: false },\n    ],\n    footprintDialog: false,\n    selectedSealer: null,\n    newFootprintValue: 0,\n  }),\n  computed: {\n    ...get(\"nodes\", [\"nbOfNodes\", \"totalFootprint\", \"sealers\"]),\n  },\n\n  mounted() {\n    this.fetchAllValues();\n  },\n  methods: {\n    ...call(\"nodes\", [\"fetchAllValues\", \"updateFootprint\"]),\n    openUpdateFootprintDialog(sealer) {\n      this.selectedSealer = sealer;\n      this.newFootprintValue = sealer.footprint;\n      this.footprintDialog = true;\n    },\n\n    async submitNewFootprint() {\n      this.footprintDialog = false;\n      await this.updateFootprint({\n        sealerAddress: this.selectedSealer.address,\n        footprint: this.newFootprintValue,\n      });\n    },\n  },\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Audit.page.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Audit.page.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Audit.page.vue?vue&type=template&id=2ca433a3&\"\nimport script from \"./Audit.page.vue?vue&type=script&lang=js&\"\nexport * from \"./Audit.page.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-row',[_c('v-tabs',{attrs:{\"centered\":\"\",\"slider-color\":\"primary\"},model:{value:(_vm.currentTab),callback:function ($$v) {_vm.currentTab=$$v},expression:\"currentTab\"}},[_c('v-tab',{attrs:{\"href\":\"#footprints\"}},[_vm._v(\" Footprints \")]),_c('v-tab',{attrs:{\"href\":\"#pledges\"}},[_vm._v(\" Pledges \")])],1),_c('v-tabs-items',{staticStyle:{\"width\":\"100%\"},model:{value:(_vm.currentTab),callback:function ($$v) {_vm.currentTab=$$v},expression:\"currentTab\"}},[_c('v-tab-item',{attrs:{\"value\":\"footprints\"}},[_c('v-card',[_c('v-card-text',[_c('v-data-table',{attrs:{\"items\":_vm.footprintHistory,\"headers\":_vm.footprintTableHeaders,\"items-per-page\":-1,\"hide-default-footer\":\"\"}})],1)],1)],1),_c('v-tab-item',{attrs:{\"value\":\"pledges\"}},[_c('v-card',[_c('v-card-text',[_c('v-data-table',{attrs:{\"items\":_vm.pledgeHistory,\"headers\":_vm.pledgeTableHeaders,\"items-per-page\":-1,\"hide-default-footer\":\"\"}})],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-row>\n    <v-tabs v-model=\"currentTab\" centered slider-color=\"primary\">\n      <v-tab href=\"#footprints\"> Footprints </v-tab>\n      <v-tab href=\"#pledges\"> Pledges </v-tab>\n    </v-tabs>\n\n    <v-tabs-items v-model=\"currentTab\" style=\"width: 100%\">\n      <v-tab-item value=\"footprints\">\n        <v-card>\n          <v-card-text>\n            <v-data-table\n              :items=\"footprintHistory\"\n              :headers=\"footprintTableHeaders\"\n              :items-per-page=\"-1\"\n              hide-default-footer\n            >\n            </v-data-table>\n          </v-card-text>\n        </v-card>\n      </v-tab-item>\n      <v-tab-item value=\"pledges\">\n        <v-card>\n          <v-card-text>\n            <v-data-table\n              :items=\"pledgeHistory\"\n              :headers=\"pledgeTableHeaders\"\n              :items-per-page=\"-1\"\n              hide-default-footer\n            >\n            </v-data-table>\n          </v-card-text>\n        </v-card>\n      </v-tab-item>\n    </v-tabs-items>\n  </v-row>\n</template>\n\n<script>\nimport { get, call } from \"vuex-pathify\";\n\nexport default {\n  data: () => ({\n    currentTab: \"footprints\",\n    footprintTableHeaders: [\n      { text: \"Block N°\", value: \"blockNumber\" },\n      { text: \"Node address\", value: \"node\" },\n      { text: \"Assigned Footprint\", value: \"footprint\" },\n    ],\n    pledgeTableHeaders: [\n      { text: \"Block N°\", value: \"blockNumber\" },\n      { text: \"Auditor address\", value: \"node\" },\n      { text: \"Pledge\", value: \"pledge\" },\n    ],\n  }),\n\n  computed: {\n    ...get(\"history\", [\"footprintHistory\", \"pledgeHistory\"]),\n  },\n\n  async mounted() {\n    this.fetchAllValues();\n  },\n\n  methods: {\n    ...call(\"history\", [\"fetchAllValues\"]),\n  },\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./History.page.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./History.page.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./History.page.vue?vue&type=template&id=3dd16a1f&\"\nimport script from \"./History.page.vue?vue&type=script&lang=js&\"\nexport * from \"./History.page.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-row',{attrs:{\"wrap\":\"\"}},[_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-card',[_c('v-card-title',[_vm._v(\"Current Wallet Balance\")]),_c('v-card-text',[_vm._v(\" \"+_vm._s(_vm.toEther(_vm.balance))+\" CRC \")])],1)],1),_c('v-col',{attrs:{\"cols\":\"8\"}},[_c('v-card',[_c('v-card-title',[_vm._v(\"Pledge Informations\")]),_c('v-card-text',[_c('div',[_vm._v(\" Min pledge to start audit: \"+_vm._s(_vm.toEther(_vm.minPledgeAmount))+\" CRC \")]),_c('div',[_vm._v(\"Current pledged amount: \"+_vm._s(_vm.pledgedAmount)+\" CRC\")]),_c('v-btn',{attrs:{\"small\":\"\",\"disabled\":_vm.pledgedAmount === 0 || !_vm.redeemBool},on:{\"click\":_vm.redeemPledge}},[_vm._v(\"Redeem Pledge\")])],1)],1)],1),_c('v-col',[_c('v-card',[_c('v-card-title',[_vm._v(\"Pledge Actions\")]),_c('v-card-text',[_c('v-row',[_c('v-col',{staticClass:\"pb-0\",attrs:{\"cols\":\"12\"}},[_c('v-text-field',{attrs:{\"dense\":\"\",\"hide-details\":\"\",\"outlined\":\"\",\"type\":\"number\",\"min\":0,\"placeholder\":\"Amount to add to the pledge\"},model:{value:(_vm.amountToAdd),callback:function ($$v) {_vm.amountToAdd=$$v},expression:\"amountToAdd\"}})],1),_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-btn',{staticStyle:{\"width\":\"100%\"},attrs:{\"small\":\"\"},on:{\"click\":_vm.pledgeMore}},[_vm._v(\"Pledge more\")])],1)],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { BigNumber } from \"bignumber.js\";\nexport const GWEI_FACTOR = Math.pow(10, 9)\nexport const ETH_FACTOR = Math.pow(10, 18)\n/**\n * Convert to BigNumber\n * @param {bigint|string|number} bi \n * @returns BigNumber\n */\nexport function toWebBigInt(bi) {\n  return new BigNumber(bi);\n}\n\n/**\n * Convert to normal number\n * @param {BigNumber} bi \n * @returns Number\n */\nexport function toNumber(bi) {\n  return bi.toNumber();\n}\n\n/**\n * Convert wei to gwei\n * @param {bigint|string|number} bi \n * @returns BigNumber\n */\nexport function toGWei(bi) {\n  return toWebBigInt(bi).div(toWebBigInt(GWEI_FACTOR));\n}\n/**\n * Convert wei to Ether\n * @param {bigint|string|number} bi \n * @returns BigNumber\n */\nexport function toEther(bi) {\n  return toWebBigInt(bi).div(toWebBigInt(ETH_FACTOR));\n}\n\nexport function toWei(bi, from) {\n  const n = toWebBigInt(bi);\n  if(from === \"ether\") return n.multipliedBy(ETH_FACTOR)\n  if(from === \"gwei\") return n.multipliedBy(GWEI_FACTOR)\n  return n\n}","<template>\n  <v-row wrap>\n    <v-col cols=\"12\">\n      <v-card>\n        <v-card-title>Current Wallet Balance</v-card-title>\n        <v-card-text> {{ toEther(balance) }}&nbsp;CRC </v-card-text>\n      </v-card>\n    </v-col>\n    <v-col cols=\"8\">\n      <v-card>\n        <v-card-title>Pledge Informations</v-card-title>\n        <v-card-text>\n          <div>\n            Min pledge to start audit: {{ toEther(minPledgeAmount) }}&nbsp;CRC\n          </div>\n          <div>Current pledged amount: {{ pledgedAmount }}&nbsp;CRC</div>\n          <v-btn\n            small\n            @click=\"redeemPledge\"\n            :disabled=\"pledgedAmount === 0 || !redeemBool\"\n            >Redeem Pledge</v-btn\n          >\n        </v-card-text>\n      </v-card>\n    </v-col>\n    <v-col>\n      <v-card>\n        <v-card-title>Pledge Actions</v-card-title>\n        <v-card-text>\n          <v-row>\n            <v-col cols=\"12\" class=\"pb-0\">\n              <v-text-field\n                v-model=\"amountToAdd\"\n                dense\n                hide-details\n                outlined\n                type=\"number\"\n                :min=\"0\"\n                placeholder=\"Amount to add to the pledge\"\n            /></v-col>\n            <v-col cols=\"12\">\n              <v-btn small style=\"width: 100%\" @click=\"pledgeMore\"\n                >Pledge more</v-btn\n              >\n            </v-col>\n          </v-row>\n        </v-card-text>\n      </v-card>\n    </v-col>\n  </v-row>\n</template>\n<script>\nimport { get, call } from \"vuex-pathify\";\nimport { toEther } from \"@/lib/numbers\";\n\nexport default {\n  data: () => ({\n    intervalId: null,\n    amountToAdd: 0,\n  }),\n  computed: {\n    ...get(\"pledge\", [\n      \"balance\",\n      \"minPledgeAmount\",\n      \"pledgedAmount\",\n      \"redeemBool\",\n    ]),\n  },\n  mounted() {\n    this.fetchAllValues();\n    this.intervalId = setInterval(this.fetchAllValues, 60 * 1000);\n  },\n  beforeRouteLeave(to, from, next) {\n    clearInterval(this.intervalId);\n    next();\n  },\n  methods: {\n    toEther,\n    ...call(\"pledge\", [\"fetchAllValues\", \"addToPledge\", \"redeemPledge\"]),\n    async pledgeMore() {\n      await this.addToPledge(this.amountToAdd);\n      this.amountToAdd = 0;\n    },\n  },\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Pledge.page.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Pledge.page.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Pledge.page.vue?vue&type=template&id=013c990b&\"\nimport script from \"./Pledge.page.vue?vue&type=script&lang=js&\"\nexport * from \"./Pledge.page.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-card',{staticClass:\"pa-md-4 mx-lg-auto\"},[_c('v-card-title',[_vm._v(\" Status \")]),(_vm.registered && _vm.approved)?_c('v-card-subtitle',{staticStyle:{\"color\":\"Green\"}},[_vm._v(\" APPROVED \")]):_vm._e(),(_vm.registered && !_vm.approved)?_c('v-card-subtitle',{staticStyle:{\"color\":\"red\"}},[_vm._v(\" AWAITING APPROVAL \")]):_vm._e(),(!_vm.registered)?_c('v-card-text',[_c('p',[_vm._v(\" You are not registered, please make sure to register \"),_c('v-btn',{staticClass:\"mx-2\",attrs:{\"small\":\"\",\"disabled\":_vm.mmIsOpen},on:{\"click\":_vm.selfRegister}},[_vm._v(\" Self register \")])],1)]):_vm._e(),(_vm.registered && !_vm.approved)?_c('v-card-text',[_c('p',{staticStyle:{\"color\":\"black\"}},[_vm._v(\" You have the total vote of \"+_vm._s(_vm.approbationVotes)+\" \")])]):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-card class=\"pa-md-4 mx-lg-auto\">\n    <v-card-title> Status </v-card-title>\n    <v-card-subtitle style=\"color: Green\" v-if=\"registered && approved\">\n      APPROVED\n    </v-card-subtitle>\n    <v-card-subtitle style=\"color: red\" v-if=\"registered && !approved\">\n      AWAITING APPROVAL\n    </v-card-subtitle>\n    <v-card-text v-if=\"!registered\">\n      <p>\n        You are not registered, please make sure to register\n        <v-btn small class=\"mx-2\" @click=\"selfRegister\" :disabled=\"mmIsOpen\">\n          Self register\n        </v-btn>\n      </p>\n    </v-card-text>\n    <v-card-text v-if=\"registered && !approved\">\n      <p style=\"color: black\">\n        You have the total vote of {{ approbationVotes }}\n      </p>\n    </v-card-text>\n  </v-card>\n</template>\n\n<script>\nimport { get, call } from \"vuex-pathify\";\n\nexport default {\n  computed: {\n    mmIsOpen: get(\"mmIsOpen\"),\n    ...get(\"auth\", [\"registered\"]),\n    ...get(\"status\", [\"approved\", \"approbationVotes\"]),\n  },\n  mounted() {\n    this.fetchIsRegistered();\n    this.fetchIsApproved();\n    this.fetchApprobationVotes();\n  },\n  methods: {\n    ...call(\"auth\", [\"fetchIsRegistered\", \"selfRegister\"]),\n    ...call(\"status\", [\"fetchIsApproved\", \"fetchApprobationVotes\"]),\n  },\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Status.page.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Status.page.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Status.page.vue?vue&type=template&id=5d15b5f5&\"\nimport script from \"./Status.page.vue?vue&type=script&lang=js&\"\nexport * from \"./Status.page.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from \"vue\";\nimport VueRouter from \"vue-router\";\n\nimport InstallMetaMask from \"@/pages/InstallMetaMask.page.vue\";\nimport Auth from \"@/pages/Auth.page.vue\";\n\nimport Dashboard from \"@/pages/Dashboard.page.vue\";\n\nimport Auditors from \"@/pages/Auditors.page.vue\";\n\nimport Audit from \"@/pages/Audit.page.vue\";\nimport History from \"@/pages/History.page.vue\";\nimport Pledge from \"@/pages/Pledge.page.vue\";\nimport Status from \"@/pages/Status.page.vue\";\n\nVue.use(VueRouter);\n\n\nconst approvedAuditor = ({ store }) => store.state.status.approved;\nconst isNode = ({ store }) => store.state.auth.isNode;\nconst isAuditor = ({ store }) => store.state.auth.isAuditor;\nconst walletIsntConnected = ({ store }) => !store.state.auth.wallet;\n// const compose = (...functions) => {\n//     return (opts) => {\n//         for (const f of functions) {\n//             if (!f(opts)) return false;\n//         }\n//         return true;\n//     }\n// }\nconst any = (...functions) => {\n    return (opts) => {\n        for (const f of functions) {\n            if (f(opts)) return true;\n        }\n        return false;\n    }\n}\n\n// The order actually matter because it will determine the order in the sidenav\nexport const routes = [\n    //Public\n    { name: \"dashboard\", path: \"/dashboard\", component: Dashboard, meta: { displayInSidenav: \"\" } },\n    // Auth\n    { name: \"installMetaMask\", path: \"/installmetamask\", component: InstallMetaMask },\n    {\n        name: \"authentication\", path: \"/auth\", component: Auth, meta: {\n            displayInSidenav: \"\",\n            hidden: ({ store }) => !walletIsntConnected({ store })\n        }\n    },\n    // Governance views\n    {\n        name: \"auditors\", path: \"/auditors\", component: Auditors, meta: {\n            displayInSidenav: \"Governance\",\n            restricted: isNode,\n            forceRedirectTo: \"dashboard\",\n            hidden: any(walletIsntConnected, isAuditor)\n        }\n    },\n    // Auditors views\n    {\n        name: \"status\", path: \"/status\", component: Status, meta: {\n            displayInSidenav: \"Audit\",\n            restricted: ({ store }) => !isNode({ store }),\n            forceRedirectTo: \"dashboard\",\n            hidden: any(walletIsntConnected, isNode)\n        }\n    },\n    {\n        name: \"pledge\", path: \"/pledge\", component: Pledge, meta: {\n            displayInSidenav: \"Audit\",\n            restricted: approvedAuditor,\n            forceRedirectTo: \"status\",\n            hidden: any(walletIsntConnected, isNode)\n        }\n    },\n    {\n        name: \"audit\", path: \"/audit\", component: Audit, meta: {\n            displayInSidenav: \"Audit\",\n            restricted: approvedAuditor,\n            forceRedirectTo: \"status\",\n            hidden: any(walletIsntConnected, isNode)\n        }\n    },\n    {\n        name: \"history\", path: \"/history\", component: History, meta: {\n            displayInSidenav: \"Audit\",\n            restricted: approvedAuditor,\n            forceRedirectTo: \"status\",\n            hidden: any(walletIsntConnected, isNode)\n        }\n    },\n    // GdC: For some unknown reason the redirection should not be 'authentication' directly but it works with dashboard\n    { path: \"*\", redirect: \"dashboard\" }\n]\n\nconst router = new VueRouter({\n    routes,\n    base: \"\",\n    mode: \"history\"\n})\n\nexport default router;","<template>\n  <v-navigation-drawer v-model=\"drawer\" app clipped flat>\n    <v-divider></v-divider>\n    <v-list>\n      <v-list-item-group :value=\"$route.name\" mandatory color=\"primary\">\n        <template\n          v-for=\"(\n            { icon, label, route, disabled, subheader }, index\n          ) in sidenav\"\n        >\n          <v-divider\n            v-if=\"subheader && label !== '' && index !== 0\"\n            :key=\"`${label}-divider`\"\n          ></v-divider>\n          <v-subheader :key=\"label\" v-if=\"subheader && label !== ''\">{{\n            label\n          }}</v-subheader>\n          <v-list-item\n            v-else\n            :key=\"route\"\n            :value=\"route\"\n            @click=\"goTo(route)\"\n            :disabled=\"disabled()\"\n            link\n          >\n            <v-list-item-icon>\n              <v-icon>{{ icon }}</v-icon>\n            </v-list-item-icon>\n\n            <v-list-item-content>\n              <v-list-item-title>{{ label }}</v-list-item-title>\n            </v-list-item-content>\n          </v-list-item>\n        </template>\n      </v-list-item-group>\n    </v-list>\n  </v-navigation-drawer>\n</template>\n\n<script>\nimport { get } from \"vuex-pathify\";\nimport { routes } from \"@/router\";\n\nexport default {\n  data: () => ({\n    drawer: null,\n  }),\n\n  computed: {\n    ...get([\"mmIsOpen\"]),\n    ...get(\"auth\", [\"registered\"]),\n    ...get(\"status\", [\"approved\"]),\n    sidenav() {\n      // Filter the routes to keep the ones that could appear in the sidenav,\n      // and map them to a more usable object\n      const list = routes\n        .filter((r) => r?.meta?.displayInSidenav !== undefined)\n        .map((r) => ({\n          icon: \"mdi-wallet\",\n          label: r.name.charAt(0).toUpperCase() + r.name.slice(1),\n          route: r.name,\n          meta: r.meta,\n          restricted: r.meta.restricted,\n          disabled: () =>\n            this.mmIsOpen ||\n            (r.meta.restricted && !r.meta.restricted({ store: this.$store })),\n          hidden: r.meta.hidden,\n        }));\n\n      const nav = [];\n      const categories = [];\n      for (const el of list) {\n        if (el.hidden && el.hidden({ store: this.$store })) continue;\n        if (\n          el.meta &&\n          el.meta.displayInSidenav !== \"\" &&\n          !categories.includes(el.meta.displayInSidenav)\n        ) {\n          nav.push({ subheader: true, label: el.meta.displayInSidenav });\n          categories.push(el.meta.displayInSidenav);\n        }\n        nav.push(el);\n      }\n      return nav;\n    },\n  },\n\n  mounted() {\n    console.log(\"routes\", routes);\n  },\n\n  methods: {\n    goTo(routeName) {\n      if (this.$route.name === routeName) return;\n      this.$router.push({ name: routeName });\n    },\n  },\n};\n</script>\n\n<style></style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppMenu.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppMenu.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AppMenu.vue?vue&type=template&id=e71ec46c&\"\nimport script from \"./AppMenu.vue?vue&type=script&lang=js&\"\nexport * from \"./AppMenu.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <v-app id=\"inspire\">\n    <v-container>\n      <app-menu></app-menu>\n      <v-app-bar app clipped-left flat color=\"teal lighten-2\">\n        <v-toolbar-title> Audit UI</v-toolbar-title>\n      </v-app-bar>\n\n      <v-main>\n        <v-container class=\"py-8\">\n          <router-view></router-view>\n        </v-container>\n      </v-main>\n    </v-container>\n    <v-overlay :value=\"mmIsOpen\">\n      <v-progress-circular indeterminate></v-progress-circular>\n    </v-overlay>\n    <v-snackbar\n      v-model=\"displaySnackbar\"\n      multi-line\n      :color=\"snackbarColor\"\n      right\n    >\n      {{ snackbarMessage }}\n    </v-snackbar>\n  </v-app>\n</template>\n\n<script>\nimport AppMenu from \"./components/AppMenu.vue\";\nimport { get, sync, call } from \"vuex-pathify\";\n\nexport default {\n  components: { AppMenu },\n  data: () => ({}),\n\n  computed: {\n    ...sync([\"displaySnackbar\", \"snackbarMessage\", \"snackbarColor\"]),\n    ...get([\"mmIsOpen\"]),\n  },\n\n  methods: {\n    ...call(\"auth\", [\"detectProvider\"]),\n  },\n};\n</script>\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=9a0ff9d2&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from \"vue\";\nimport Vuetify from \"vuetify\";\nimport \"vuetify/dist/vuetify.min.css\";\n\nVue.use(Vuetify);\n\nexport default new Vuetify({\n    theme: {\n        themes: {\n            light: {\n                primary: \"#607d8b\",\n                secondary: \"#009688\",\n                accent: \"#4caf50\",\n                error: \"# e91e63\",\n                warning: \"#cddc39\",\n                info: \"#3f51b5\",\n                success: \"#8bc34\",\n            },\n        },\n    },\n});","import pathify from 'vuex-pathify'\nexport default pathify\n\n// options\npathify.options.mapping = 'simple'\n// pathify.options.deep = false","import Web3 from \"web3\";\nimport { Web3FunctionProvider } from \"@saturn-chain/web3-functions\";\nimport allContracts from \"sc-carbon-footprint\";\nimport $store from \"@/store/index\";\n\nexport async function getWalletBalance(walletAddress) {\n    return await new Web3($store.get(\"auth/provider\")).eth.getBalance(walletAddress);\n    // const wallet = new Web3Wallet(Web3, walletAddress);\n    // return await wallet.getBalance();\n}\n\nexport const governanceAddress = \"0x0000000000000000000000000000000000000100\";\n\nexport function getContractInstanceByName(contractName) {\n    const contract = allContracts.get(contractName);\n    const instance = contract.at(governanceAddress);\n    console.log(\"Instance\", instance);\n    return instance;\n}\n\nexport function getContractInstance() {\n    return getContractInstanceByName(\"Governance\");\n}\n\nexport function intf(provider) {\n    // TODO (suggestion): This approach work, but why not storing in the \"store\" the intf result instead of the web3 provider ?\n    //      you would save writing the intf(provider)\n    return new Web3FunctionProvider(provider, (list) => Promise.resolve(list[0]))\n}\n\nexport async function readOnlyCall(methodName, ...args) {\n    const provider = $store.get(\"auth/provider\");\n    const contract = $store.get(\"auth/contract\");\n    if (!(methodName in contract)) return Promise.reject(new Error(`Method ${methodName} does not exists in contract`));\n    return contract[methodName](\n        intf(provider).call({ maxGas: 10000000 }),\n        ...args\n    );\n}\n\nexport function writeCall(methodName, ...args) {// return writeCallWithOptions(methodName, {maxGas: 1000000}, ...args);\n    return writeCallWithOptions(methodName, {}, ...args);\n}\n\nfunction convertMMErrorMessage(message) {\n    if(typeof message !== \"string\") message = `\\n {\"message\":\"invalid error message\"}`;\n    let split = message.split(\"\\n\");\n    if(split.length==1) split =  `\\n ${JSON.stringify({message})}`.split('\\n');\n    try {\n        const obj = JSON.parse(split.splice(1).join(\" \"))\n        return obj;\n    } catch (error) {\n        return {\n            message: \"invalid JSON message\"\n        }\n    }\n}\n\nexport function writeCallWithOptions(methodName, options, ...args) {\n    const provider = $store.get(\"auth/provider\");\n    const contract = $store.get(\"auth/contract\");\n    if (!(methodName in contract)) return Promise.reject(new Error(`Method ${methodName} does not exists in contract`));\n\n    return new Promise( (resolve, reject)=>{\n        // First test the execution with the node using the call approach\n        readOnlyCall(methodName, ...args)\n        .then(async v=>{\n            console.log(\"Tested call\", v)\n            resolve(\n                // as it succeeded, try executing it as a transaction\n                await contract[methodName](\n                    intf(provider).send(options),\n                    ...args\n                )\n            )\n        })\n        .catch(e => {\n            const err = convertMMErrorMessage(e.message)\n            reject(err)\n        })\n    });\n}\n\nexport async function handleMMResponse(promise, errorCallback) {\n    let response = null;\n    try {\n        $store.set(\"mmIsOpen\", true);\n        response = await promise;\n    }\n    catch (err) {\n        console.log(err);\n        $store.dispatch(\"errorFlash\", err.message);\n        errorCallback && errorCallback(err);\n    }\n    finally {\n        $store.set(\"mmIsOpen\", false);\n    }\n    return response;\n}\n\n// Not used currently but lets you run any arbitrary code and the mmIsOpen flag is handled automatically\n// aswell as the error flash production if you decide to trigger an exception.\nexport async function handleMM(func) {\n    try {\n        $store.set(\"mmIsOpen\", true);\n        await func();\n    }\n    catch (err) {\n        console.log(err);\n        $store.dispatch(\"errorFlash\", err.message);\n    }\n    finally {\n        $store.set(\"mmIsOpen\", false);\n    }\n}","import Web3 from \"web3\";\nimport { make } from \"vuex-pathify\";\nimport { poaBlockHashToSealerInfo } from \"pocr-utils\";\nimport { readOnlyCall, intf as _intf, writeCall, handleMMResponse } from \"@/lib/api\";\nimport $store from \"@/store/index\";\n\nconst MAX_BLOCKS_TO_KEEP = 30;\n\nconst state = () => ({\n    nbOfNodes: 0,\n    totalFootprint: 0,\n    totalCrypto: 0,\n    sealers: [],\n    chainUpdateSubscription: null,\n    blocks: []\n})\n\nconst average = (arr) => arr.reduce((a, b) => a + b, 0) / arr.length;\n\nconst getters = {\n    rewardsByBlock(state) {\n        const rewards = state.blocks.map((d) => d.sealer.lastReward);\n        rewards.unshift(0);\n        return rewards;\n    },\n    averageReward(state) {\n        if (state.blocks.length === 0) return 0;\n        const rewards = state.blocks.map((d) => d.sealer.lastReward);\n        return average(rewards);\n    },\n    averageDelaySec(state) {\n        if (state.blocks.length < 2) return 0;\n        const previousBlock = state.blocks[state.blocks.length - 2];\n        const lastBlock = state.blocks[state.blocks.length - 1];\n        return (lastBlock.receivedAt - previousBlock.receivedAt) / 1000;\n    },\n    lastBlock(state) {\n        if (state.blocks.length === 0) return null;\n        return state.blocks[state.blocks.length - 1];\n    },\n    lastBlockNumber(state, getters) {\n        return getters.lastBlock?.block.number;\n    }\n}\n\nconst mutations = make.mutations(state);\n\nasync function processBlock(web3, block) {\n    const intf = _intf($store.get(\"auth/provider\"));\n    const carbonFootprint = $store.get(\"auth/contract\");\n\n    const data = { block, sealer: undefined }\n    try {\n        if (typeof block.difficulty === \"string\" && !block.difficulty.startsWith('0x')) block.difficulty = Number.parseInt(block.difficulty);\n        data.sealer = poaBlockHashToSealerInfo(block);\n        const blockNumber = typeof block.number === \"string\" ? Number.parseInt(block.number) : block.number;\n        const balance = web3.utils.toBN(await web3.eth.getBalance(data.sealer.address, blockNumber))\n        // Total and delta\n        const totalCrypto = web3.utils.toBN(await web3.eth.getBalance(carbonFootprint.deployedAt, blockNumber))\n        const totalCryptoB4 = web3.utils.toBN(await web3.eth.getBalance(carbonFootprint.deployedAt, blockNumber - 1))\n        const delta = Number.parseFloat(web3.utils.fromWei(totalCrypto.sub(totalCryptoB4)));\n\n        const bal = Number.parseFloat(web3.utils.fromWei(balance, \"ether\"))\n        const footprint = await carbonFootprint.footprint(intf.call(), data.sealer.address)\n        const totalFootprint = await carbonFootprint.totalFootprint(intf.call())\n        const nbNodes = await carbonFootprint.nbNodes(intf.call())\n\n        data.sealer.footprint = Number.parseFloat(footprint);\n        data.sealer.balance = bal\n        data.totalFootprint = Number.parseInt(totalFootprint)\n        data.totalCrypto = Number.parseFloat(web3.utils.fromWei(totalCrypto, \"ether\"))\n        data.nbNodes = Number.parseInt(nbNodes)\n        data.sealer.lastReward = delta //normalRewardForFootprint(data.sealer.footprint, data.totalFootprint, data.nbNodes);\n        data.receivedAt = Date.now();\n    } catch (error) {\n        console.warn(\"Error in preparing block\", error)\n    }\n    return data;\n}\n\nconst actions = {\n    fetchAllValues({ dispatch }) {\n        dispatch(\"fetchNumberOfNodes\");\n        dispatch(\"fetchTotalFootprint\");\n        dispatch(\"fetchNodeInformations\");\n    },\n\n    async fetchNumberOfNodes() {\n        const nbNodes = await readOnlyCall(\"nbNodes\");\n        $store.set(\"nodes/nbOfNodes\", Number.parseInt(nbNodes));\n    },\n\n    async fetchTotalFootprint() {\n        const totalFootprint = await readOnlyCall(\"totalFootprint\");\n        $store.set(\"nodes/totalFootprint\", Number.parseInt(totalFootprint));\n    },\n\n    subscribeToChainUpdates({ state, rootState, dispatch }) {\n        if (state.chainUpdateSubscription !== null) state.chainUpdateSubscription.unsubscribe();\n        dispatch(\"fetchChainInformations\");\n\n        const web3 = new Web3(rootState.auth.provider);\n        const subscription = web3.eth.subscribe(\"newBlockHeaders\");\n        subscription.on(\"data\", (block) => dispatch(\"insertNewBlock\", block));\n        $store.set(\"nodes/chainUpdateSubscription\", subscription);\n    },\n\n    unsubscribeToChainUpdates() {\n        if (state.chainUpdateSubscription !== null) state.chainUpdateSubscription.unsubscribe();\n    },\n\n    async insertNewBlock({ state }, block) {\n        const web3 = new Web3($store.get(\"auth/provider\"));\n\n        // Here process the new block, remove one if we've reached the cap\n        let blocks = [...state.blocks];\n        if (blocks.length >= MAX_BLOCKS_TO_KEEP) {\n            blocks.shift();\n        }\n        blocks.push(await processBlock(web3, block));\n        $store.set(\"nodes/blocks\", blocks);\n    },\n\n    async fetchChainInformations({ rootState }) {\n        const web3 = new Web3(rootState.auth.provider);\n        const blocks = [];\n\n        const blockNumber = await web3.eth.getBlockNumber();\n        this.blockNumber = blockNumber;\n\n        let index = Math.max(0, blockNumber - MAX_BLOCKS_TO_KEEP);\n        console.log(\"From block\", index, \"to\", blockNumber);\n\n        for (; index < blockNumber; index++) {\n            const block = await web3.eth.getBlock(index, false);\n            blocks.push(await processBlock(web3, block));\n        }\n        $store.set(\"nodes/blocks\", blocks);\n    },\n\n    async fetchNodeInformations({ rootState }) {\n        const web3 = new Web3(rootState.auth.provider);\n        const blockNumber = await web3.eth.getBlockNumber();\n\n        const sealers = {};\n        const seenSealers = {};\n\n        let i = 0;\n        let maxSealerSeenCounter = 0;\n        while (maxSealerSeenCounter <= 2) { // makes at least 2 full loops of PoA signature\n            const index = blockNumber - i;\n            const block = await web3.eth.getBlock(index, false);\n            const data = await processBlock(web3, block);\n            console.log(\"block\", data.block.number, \"sealer\", data.sealer);\n\n            if (i === 0) {\n                console.log(\"data\", data);\n                $store.set(\"nodes/totalCrypto\", data.totalCrypto);\n            }\n\n            const address = data.sealer.address;\n            if (!sealers[address]) {\n                sealers[address] = data.sealer;\n            }\n            seenSealers[address] = (seenSealers[address] ?? 0) + 1;\n\n            // capture the max of the node seen\n            maxSealerSeenCounter = Math.max(maxSealerSeenCounter, seenSealers[address]);\n            i++;\n        }\n        const sortedSealers = Object.values(sealers).sort((a, b) => a.footprint < b.footprint);\n        // console.log(sortedSealers.map(s => s.footprint));\n        $store.set(\"nodes/sealers\", sortedSealers);\n    },\n\n    async updateFootprint({ dispatch }, { sealerAddress, footprint }) {\n        await handleMMResponse(writeCall(\"setFootprint\", sealerAddress, footprint));\n        dispatch(\"fetchNodeInformations\");\n    }\n}\n\nexport default {\n    state,\n    getters,\n    mutations,\n    actions,\n    namespaced: true\n}","// import ready from \"document-ready-promise\";\nimport detectEthereumProvider from '@metamask/detect-provider';\nimport { make } from \"vuex-pathify\";\nimport { readOnlyCall, writeCall, handleMMResponse } from \"@/lib/api\";\n\nimport $store from \"@/store/index\";\nimport router from \"../router.js\";\n\nconst state = () => ({\n    provider: null,\n    wallet: null,\n    contract: null,\n    registered: false,\n    isNode: false,\n    isAuditor: false,\n})\n\nconst getters = {}\n\nconst mutations = make.mutations(state);\n\nconst actions = {\n\n    async fetchRole() {\n        // get the current address\n        const wallet = $store.get(\"auth/wallet\");\n        // check if it's Auditor\n        const isAuditor = await readOnlyCall(\"auditorRegistered\", wallet);\n        // get the value of the footprint\n        const Node = await readOnlyCall(\"footprint\", wallet);\n        let isNode = false;\n        // if value different to 0 then it's a node\n        if (Node != 0) isNode = true;\n        // set the values to the store\n        $store.set(\"auth/isAuditor\", isAuditor);\n        $store.set(\"auth/isNode\", isNode);\n    },\n\n    async detectProvider() {\n        const provider = await detectEthereumProvider();\n        if (!provider) {\n            router.push({ name: \"installMetaMask\" });\n            return;\n        }\n        provider.on('accountsChanged', () => window.location.reload())\n        $store.set(\"auth/provider\", provider);\n    },\n\n    async attemptToConnectWallet() {\n        const addresses = await window.ethereum.request({ method: \"eth_accounts\" })\n        const address = addresses.length > 0 ? addresses[0] : null;\n        if (!address) return;\n        $store.set(\"auth/wallet\", address);\n        // We do it here because stuff breaks if we try to instanciate the interface before we know the address\n        return address;\n    },\n\n    async openMetaMaskConnectionDialog() {\n        const accounts = await window.ethereum.request({ method: \"eth_requestAccounts\" })\n        if (accounts.length === 0) return;\n        $store.set(\"auth/wallet\", accounts[0]);\n        // TODO: call fetchRole here to do a selective redirect? Or, just assume it's a first connect and don't care.\n        router.push({ name: \"dashboard\" });\n    },\n\n    async fetchIsRegistered({ state }) {\n        const registered = await handleMMResponse(readOnlyCall(\"auditorRegistered\", state.wallet));\n        $store.set(\"auth/registered\", registered);\n    },\n\n    async selfRegister({ dispatch }) {\n        await handleMMResponse(writeCall(\"selfRegisterAuditor\"));\n        dispatch(\"fetchIsRegistered\");\n        dispatch(\"status/fetchIsApproved\", null, { root: true });\n        dispatch(\"fetchRole\");\n    }\n}\n\nexport default {\n    state,\n    getters,\n    mutations,\n    actions,\n    namespaced: true\n}","import { make } from \"vuex-pathify\";\nimport { governanceAddress } from \"@/lib/api\";\nimport { Web3FunctionProvider } from \"@saturn-chain/web3-functions\";\nimport allContracts from \"sc-carbon-footprint\";\nimport { toEther } from \"@/lib/numbers\";\n\n// eslint-disable-next-line \nimport { SmartContractInstance } from \"@saturn-chain/smart-contract\" // needed only for typings resolution in the code\nimport $store from \"@/store/index\";\n\nconst state = () => ({\n    pledgeHistory: [],\n    footprintHistory: []\n})\n\nconst getters = {}\n\nconst mutations = {\n    ...make.mutations(state),\n    appendFootprint: (state, value) => {\n        state.footprintHistory.push(value)\n    },\n    appendPledge: (state, value) => {\n        state.pledgeHistory.push(value)\n    },\n};\n\nconst actions = {\n    fetchAllValues({ dispatch }) {\n        const prov = new Web3FunctionProvider($store.get(\"auth/provider\"), ()=>Promise.resolve($store.get(\"auth/wallet\")))\n        const contract = allContracts.get(\"Governance\").at(governanceAddress);\n\n        dispatch(\"fetchFootprintHistory\", {contract, prov});\n        dispatch(\"fetchPledgeHistory\", {contract, prov});\n    },\n\n    /**\n     * Get the list of setting footprint from the begining.     \n     * TODO: Replace by a pagination scheme \n     * @param {*} empty \n     * @param {{contract:SmartContractInstance, prov:Web3FunctionProvider} param1 \n     */\n    async fetchFootprintHistory({commit}, {contract, prov}) {\n        $store.set(\"history/footprintHistory\", []);\n        contract.events.CarbonFootprintUpdate(prov.get({fromBlock: 1}), {})\n        .on(\"log\", log=>{\n            // console.log(\"get logs \", log);\n            const footprint = {\n                blockNumber: log.blockNumber,\n                node: log.returnValues.node,\n                footprint: log.returnValues.footprint\n            };\n            commit(\"appendFootprint\", footprint);\n        })\n    },\n\n    /**\n     * Get the list of pledging from the begining.     \n     * TODO: Replace by a pagination scheme \n     * @param {*} empty \n     * @param {{contract:SmartContractInstance, prov:Web3FunctionProvider} param1 \n     */\n    async fetchPledgeHistory({commit}, {contract, prov}) {\n        $store.set(\"history/pledgeHistory\", []);\n        // get the logs of the current auditor only\n        contract.events.AmountPledged(prov.get({fromBlock: 1}), {from: await prov.account()})\n        .on(\"log\", log=>{\n            // console.log(\"get logs \", log);\n            const pledge = {\n                blockNumber: log.blockNumber,\n                node: log.returnValues.from,\n                pledge: toEther(log.returnValues.amount),\n                total: toEther(log.returnValues.total)\n            };\n            commit(\"appendPledge\", pledge)\n        })\n    }\n}\n\nexport default {\n    state,\n    getters,\n    mutations,\n    actions,\n    namespaced: true\n}","import { make } from \"vuex-pathify\";\nimport { readOnlyCall, writeCall, writeCallWithOptions, handleMMResponse } from \"@/lib/api\";\nimport $store from \"@/store/index\";\nimport { toWei, toEther } from \"@/lib/numbers\";\nimport { getWalletBalance } from \"@/lib/api\";\n\nconst state = () => ({\n    balance: 0,\n    minPledgeAmount: 0,\n    pledgedAmount: 0,\n    redeemBool: false,\n})\n\nconst getters = {}\n\nconst mutations = make.mutations(state);\n\nconst actions = {\n    fetchAllValues({ dispatch }) {\n        dispatch(\"fetchBalance\");\n        dispatch(\"fetchMinPledgeAmount\");\n        dispatch(\"fetchPledgedAmount\");\n        dispatch(\"fetchCanTransferPledge\");\n    },\n\n    async fetchBalance({ rootState }) {\n        const balance = await getWalletBalance(rootState.auth.wallet);\n        $store.set(\"pledge/balance\", balance);\n    },\n\n    async fetchCanTransferPledge() {\n        const wallet = $store.get(\"auth/wallet\");\n        const redeemBool = await readOnlyCall(\"canTransferPledge\", wallet,\"1\");\n        console.log(\"just trying\", redeemBool);\n        $store.set(\"pledge/redeemBool\", redeemBool);\n    },\n\n    async fetchMinPledgeAmount() {\n        const wallet = $store.get(\"auth/wallet\");\n        const minPledgeAmount = await readOnlyCall(\"minPledgeAmountToAuditNode\", wallet);\n        $store.set(\"pledge/minPledgeAmount\", minPledgeAmount);\n    },\n\n    async fetchPledgedAmount() {\n        const wallet = $store.get(\"auth/wallet\");\n        const pledgedAmount = await readOnlyCall(\"pledgedAmount\", wallet);\n        $store.set(\"pledge/pledgedAmount\", toEther(pledgedAmount));\n    },\n\n    async addToPledge({ dispatch }, amount) {\n        console.log(\"Pledging\", amount)\n        await handleMMResponse(writeCallWithOptions(\"pledge\", { amount: toWei(amount, \"ether\") }));\n        dispatch(\"fetchPledgedAmount\");\n    },\n\n    async redeemPledge({ dispatch }) {\n        // when the smart contract is redeployed with the getPledgeBack function replace the below code\n        const wallet = $store.get(\"auth/wallet\");\n        const amount = $store.get(\"pledge/pledgedAmount\");\n        await  handleMMResponse(writeCall(\"transferPledge\", wallet, amount));\n        // replace with:\n        // await handleMMResponse(writeCall(\"getPledgeBack\"));\n        dispatch(\"fetchPledgedAmount\");\n    }\n}\n\nexport default {\n    state,\n    getters,\n    mutations,\n    actions,\n    namespaced: true\n}","import { make } from \"vuex-pathify\";\nimport { readOnlyCall } from \"@/lib/api\";\nimport $store from \"@/store/index\";\n\nconst state = () => ({\n    approved: false,\n    approbationVotes: 0\n})\n\nconst getters = {}\n\nconst mutations = make.mutations(state);\n\nconst actions = {\n    async fetchIsApproved() {\n        const wallet = $store.get(\"auth/wallet\");\n        const approved = await readOnlyCall(\"auditorApproved\", wallet);\n\n        $store.set(\"status/approved\", approved);\n    },\n    async fetchApprobationVotes() {\n        const wallet = $store.get(\"auth/wallet\");\n        const votes = await readOnlyCall(\"auditorVotes\", wallet);\n\n        $store.set(\"status/approbationVotes\", Number(votes));\n    }\n}\n\nexport default {\n    state,\n    getters,\n    mutations,\n    actions,\n    namespaced: true\n}","import { make } from \"vuex-pathify\";\nimport {\n    handleMMResponse,\n    readOnlyCall,\n    writeCall,\n} from \"@/lib/api\";\nimport $store from \"@/store/index\";\n\nconst state = () => ({\n    nbAuditors: 0,\n    auditors: [],\n})\n\nconst getters = {}\n\nconst mutations = make.mutations(state);\n\nconst actions = {\n    async fetchAllAuditorsValues({ dispatch }) {\n        await dispatch(\"fetchNbAuditors\");\n        await dispatch(\"fetchAuditorsInfos\");\n    },\n\n    async fetchNbAuditors() {\n        const nbAuditors = await readOnlyCall(\"nbAuditors\");\n        $store.set(\"nodeGovernance/nbAuditors\", nbAuditors);\n    },\n\n    async fetchAuditorsInfos() {\n        const nbAuditors = await readOnlyCall(\"nbAuditors\");\n        const nodeAdr = $store.get(\"auth/wallet\");\n        const minVotes = Math.floor((await readOnlyCall(\"nbNodes\")) / 2) + 1;\n        const auditors = [];\n        for (let i = 0; i < nbAuditors; i++) {\n            const address = await readOnlyCall(\"auditorAddress\", i);\n            const nbVotes = await readOnlyCall(\"auditorVotes\", address);\n            const currentVote = await readOnlyCall(\"currentAuditorVote\", address, nodeAdr);\n            const isApproved = await readOnlyCall(\"auditorApproved\", address);\n            auditors[i] = {\n                address,\n                nbVotes,\n                minVotes,\n                currentVote,\n                isApproved\n            };\n        }\n        $store.set(\"nodeGovernance/auditors\", auditors);\n    },\n\n    async voteAuditor(context, {auditorAddress, accept}) {\n        return handleMMResponse(writeCall(\"voteAuditor\", auditorAddress, accept));\n    }\n\n}\n\nexport default {\n    state,\n    getters,\n    mutations,\n    actions,\n    namespaced: true\n}","import Vue from \"vue\";\nimport Vuex from \"vuex\";\n\nimport pathify from '@/plugins/pathify'\nimport { make } from \"vuex-pathify\";\n// import createPersistedState from \"vuex-persistedstate\";\n\nimport nodes from \"./nodes\"\nimport auth from \"./auth\"\nimport history from \"./history\";\nimport pledge from \"./pledge\"\nimport status from \"./status\"\nimport nodeGovernance from \"./nodeGovernance\"\n\nVue.use(Vuex);\n\nconst state = {\n    // used for a nicer UX: if this is true, ignore the values above, we probably don't know the actual values yet\n    tryingToConnect: false,\n    mmIsOpen: false,\n\n    displaySnackbar: false,\n    snackbarMessage: \"\",\n    snackbarColor: \"error\",\n}\n\nconst store = new Vuex.Store({\n    modules: {\n        nodes,\n        auth,\n        history,\n        pledge,\n        status,\n        nodeGovernance\n    },\n    plugins: [\n        pathify.plugin,\n        // createPersistedState({ key: \"wallets\", paths: [\"wallets\"] })\n    ],\n    state,\n    mutations: make.mutations(state),\n    actions: {\n        errorFlash({ commit }, message) {\n            commit(\"snackbarMessage\", message);\n            commit(\"snackbarColor\", \"error\");\n            commit(\"displaySnackbar\", true);\n        }\n    }\n});\nexport default store;","import { getContractInstance } from \"./api\";\n\nexport function setupAuthNavigationGuard(router, store) {\n  router.beforeEach(async (to, from, next) => {\n    // Having a provider is considered mandatory. We'll check that you installed Metamask.\n    if (!store.state.auth.provider) {\n      await store.dispatch(\"auth/detectProvider\");\n      console.log(\"Didn't find any provider in the app, trying to detect one. Provider found?\", store.state.auth.provider);\n      if (!store.state.auth.provider) return next({ name: \"installMetaMask\" });\n    }\n\n    // Just to make sure, if you do not have the smart contract instance yet, we instanciate it.\n    if (!store.state.auth.contract) {\n      store.commit(\"auth/contract\", getContractInstance())\n    }\n\n    // You're going to a non-auth route, keep going.\n    if (!to.meta || !to.meta.restricted) return next();\n\n    // Good, you have the extension. But have you connected a wallet?\n    if (!store.state.auth.wallet) {\n      console.log(\"Didn't find the wallet in the app. Trying to fetch it...\");\n      const address = await store.dispatch(\"auth/attemptToConnectWallet\");\n      if (!address) {\n        console.log(\"Didn't find it. Redirecting to auth.\");\n        return next({ name: \"authentication\" });\n      }\n      console.log(\"Found a connected wallet.\");\n    }\n\n    await store.dispatch(\"auth/fetchRole\", null, { root: true });\n\n    // Alright, you have the extension, and you've connected a wallet. But do you have the right to\n    // go where you're trying to go?\n    if (!to.meta.restricted({ store })) {\n      // Maybe we don't know it yet but you're actually approved (first navigation). We double-check,\n      // to avoid sending you back to status on first navigation (that would be quite annoying)\n      console.log(\"Didn't find the proper authorizations to go to this route. Checking again with the smart contract...\")\n      await Promise.all([\n        store.dispatch(\"auth/fetchIsRegistered\"),\n        store.dispatch(\"status/fetchIsApproved\")\n      ]);\n      // You're actually NOT approved or registered at all. Go back to Status, you shouldn't try to go\n      // anywhere else.\n      if (!to.meta.restricted({ store })) return next({ name: to.meta.forceRedirectTo });\n      console.log(\"Found the proper authorizations.\");\n    }\n\n    // Alright, if you managed to go this far, everything's fine.\n    return next();\n  })\n}","import Vue from 'vue'\nimport App from './App.vue'\nimport vuetify from './plugins/vuetify'\nimport 'roboto-fontface/css/roboto/roboto-fontface.css'\nimport '@mdi/font/css/materialdesignicons.css'\nimport '@mdi/js'\n\nimport store from \"./store/index\"\nimport router from './router'\nimport { setupAuthNavigationGuard } from '@/lib/auth'\n\nVue.config.productionTip = false\n\nsetupAuthNavigationGuard(router, store);\n\nnew Vue({\n  vuetify,\n  store,\n  router,\n  render: h => h(App)\n}).$mount('#app')\n"],"sourceRoot":""}